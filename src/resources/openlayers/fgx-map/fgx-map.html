<!-- author: yves sablonier, zurich -->
<!-- Â© 2011, GPLv2 and later -->

<html>
  <head>
    <link rel="stylesheet" href="../theme/default/style.css" type="text/css" />
    <link rel="stylesheet" href="style.css" type="text/css" />
	
	<!-- for later improvement: add yahoo api -->
	<!-- <script src="http://api.maps.yahoo.com/ajaxymap?v=3.0&appid=euzuro-openlayers"></script> -->
    
	<!-- this is our main api -->
	<script src="../lib/OpenLayers.js"></script>
	
	<!-- add a test alert qt<>js -->
	<script>
        function testFunction (s) 
        {
            alert (s) 
            return "Javascript return";
        }
    </script>

	<style type="text/css">
	/* Style for openlayers fullscreen map */
            body {
                margin: 0;
            }
            #map {
                width: 100%;
                height: 100%;
            }

            /*#text {
                position: absolute;
                bottom: 1em;
                left: 1em;
                width: 512px;
            }*/
	</style>
	
    <script type="text/javascript">
        var lon, lat;
		var zoom;
		
		var rwyLon1, rwyLat1, rwyLon2, rwyLat2;
		
        var map, layer;
		
        function init(){
            
			map = new OpenLayers.Map('map');
			
			// add OpenStreetMap layer
			layer = new OpenLayers.Layer.OSM( "OSM Map");
            map.addLayer(layer);
			
			// set osm projection
			osmprojection = new OpenLayers.Projection("EPSG:4326");
			
            map.addLayer(layer);
            map.setCenter(
                new OpenLayers.LonLat(lon, lat).transform(
                    osmprojection,
                    map.getProjectionObject()
                ), zoom
            );
			
			//setting vector layer style
			var layer_style = OpenLayers.Util.extend({}, OpenLayers.Feature.Vector.style['default']);
				
				// opacity
				layer_style.strokeOpacity = 0.8;
				layer_style.fillOpacity = 0.5;
            
			// adding point default style
			var pointDefaultStyle = OpenLayers.Util.extend({}, layer_style);
            pointDefaultStyle.strokeColor = "red";
            pointDefaultStyle.fillColor = "red";
            pointDefaultStyle.graphicName = "star";
            pointDefaultStyle.pointRadius = 10;
            pointDefaultStyle.strokeWidth = 1;
            pointDefaultStyle.rotation = 45;
            pointDefaultStyle.strokeLinecap = "butt";
			

			// adding a vector layer with osm projection
			var vectorLayer = new OpenLayers.Layer.Vector("Glyphs", osmprojection);
			
			// drawing a point
			var point = new OpenLayers.Geometry.Point(5,40).transform(osmprojection,map.getProjectionObject());
            var feature = new OpenLayers.Feature.Vector(point,null, pointDefaultStyle);
			
			var points = new Array(
                          new OpenLayers.Geometry.Point(rwyLon1, rwyLat1),
                          new OpenLayers.Geometry.Point(rwyLon2, rwyLat2)
                          );

			
			// add a runway
			var points = new Array(
                          new OpenLayers.Geometry.Point(rwyLon1, rwyLat1),
                          new OpenLayers.Geometry.Point(rwyLon2, rwyLat2)
                          );
						  
			var line = new OpenLayers.Geometry.LineString(points).transform(osmprojection,map.getProjectionObject());
            var runwayFeature = new OpenLayers.Feature.Vector(line,null, pointDefaultStyle);
            
			// add point to vector layer and to map
			vectorLayer.addFeatures(feature);
			vectorLayer.addFeatures(runwayFeature);
            map.addLayer(vectorLayer);


        }
    </script>
  </head>
  <body onload="init()">
    <div id="map"></div>
  </body>
</html>
